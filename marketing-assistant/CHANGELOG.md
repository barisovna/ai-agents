# Changelog - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–±—Ä—ã–≤–æ–º –æ—Ç–≤–µ—Ç–æ–≤ ‚ùå ‚Üí ‚úÖ

**–ë—ã–ª–æ:**
- `max_tokens` –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±—Ä–µ–∑–∞–ª—Å—è –¥–æ 500
- –û—Ç–≤–µ—Ç—ã –æ–±—Ä—ã–≤–∞–ª–∏—Å—å –Ω–∞ ~400 —Å–ª–æ–≤–∞—Ö

**–°—Ç–∞–ª–æ:**
- `deepseek-chat`: –¥–æ 8,192 —Ç–æ–∫–µ–Ω–æ–≤ (max)
- `deepseek-reasoner`: –¥–æ 65,536 —Ç–æ–∫–µ–Ω–æ–≤ (max)
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 4,096 —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è chat

### 2. –û—à–∏–±–∫–∞ "Unexpected token '<'" ‚ùå ‚Üí ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:**
PHP –≤—ã–≤–æ–¥–∏–ª HTML –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ JSON:
```html
<br /><b>Warning:</b> ...
{"error": "..."}
```

**–†–µ—à–µ–Ω–∏–µ:**
```php
error_reporting(0);           // –û—Ç–∫–ª—é—á–∏–ª–∏ –≤—ã–≤–æ–¥ –æ—à–∏–±–æ–∫
ini_set('display_errors', '0');
ob_start();                   // –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è
ob_clean();                   // –û—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ JSON
```

### 3. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤ ‚ùå ‚Üí ‚úÖ

**–ë—ã–ª–æ:**
- –£–∫–∞–∑—ã–≤–∞–ª 32,000 —Ç–æ–∫–µ–Ω–æ–≤ (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è deepseek-chat)
- Connection errors

**–°—Ç–∞–ª–æ (—Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):**
- deepseek-chat: 8K max
- deepseek-reasoner: 64K max

### 4. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚ùå ‚Üí ‚úÖ

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `api-debug.log`
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ `api-errors.log`
- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ—Ç–ª–∞–¥–∫–µ –≤ —á–∞—Ç–µ

---

## üÜï –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ AI
–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–†–µ–∂–∏–º AI" –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏:
- **Chat Mode** - –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã (8K —Ç–æ–∫–µ–Ω–æ–≤)
- **Reasoner Mode** - –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ (64K —Ç–æ–∫–µ–Ω–æ–≤)

### 2. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ v3.2_speciale
–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ (–¥–æ 15.12.2025):
```javascript
use_speciale: true  // –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º
```

### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–≥–∏:
- `api-debug.log` - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã
- `api-errors.log` - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏

### 4. –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
`test-api.php` - –ø–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
- ‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–∞
- ‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ PHP/CURL
- ‚úì –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úì –ü–æ–∫–∞–∑ –æ—Ç–≤–µ—Ç–∞ AI

### 5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–¢—Ä–∏ —Ñ–∞–π–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
- `START-HERE.txt` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `README-SETUP.md` - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `CHANGELOG.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –õ–∏–º–∏—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ –º–æ–¥–µ–ª—è–º

| –ú–æ–¥–µ–ª—å | Context Length | Max Output | –¶–µ–Ω–∞ Input | –¶–µ–Ω–∞ Output |
|--------|---------------|------------|------------|-------------|
| deepseek-chat | 128K | 8K | $0.28/1M | $0.42/1M |
| deepseek-reasoner | 128K | 64K | $0.28/1M | $0.42/1M |
| v3.2_speciale | 128K | 128K | $0.28/1M | $0.42/1M |

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ api-proxy.php

```php
// –õ–∏–º–∏—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤
$modelLimits = [
    'deepseek-chat' => 8192,
    'deepseek-reasoner' => 65536
];

// –¢–∞–π–º–∞—É—Ç—ã
CURLOPT_TIMEOUT => 120,        // 2 –º–∏–Ω—É—Ç—ã
CURLOPT_CONNECTTIMEOUT => 10,  // 10 —Å–µ–∫—É–Ω–¥

// –õ–∏–º–∏—Ç—ã PHP
ini_set('max_execution_time', 180);
ini_set('memory_limit', '256M');
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ HTML

```javascript
// –¢–æ–∫–µ–Ω—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–æ–¥–µ–ª–∏
const maxTokens = selectedModel === 'deepseek-reasoner'
    ? 8192   // Reasoner - –¥–ª–∏–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
    : 4096;  // Chat - —Å—Ä–µ–¥–Ω–∏–µ –æ—Ç–≤–µ—Ç—ã

// –ò—Å—Ç–æ—Ä–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ 20 —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
if (conversationHistory.length > 20) {
    conversationHistory = conversationHistory.slice(-20);
}
```

---

## üîß –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –µ—â–µ –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:

–í `marketing-assistant-improved.html`:
```javascript
const maxTokens = selectedModel === 'deepseek-reasoner'
    ? 16384  // –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 16K
    : 8192;  // –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 8K
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤ (–≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ):

–í `api-proxy.php` –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:
```php
// file_put_contents(__DIR__ . '/api-debug.log', ...);
// file_put_contents(__DIR__ . '/api-errors.log', ...);
```

### –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞:

–í `marketing-assistant-improved.html`:
```javascript
if (conversationHistory.length > 40) {  // –ë—ã–ª–æ 20
    conversationHistory = conversationHistory.slice(-40);
}
```

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. "Connection error" –Ω–∞ shared —Ö–æ—Å—Ç–∏–Ω–≥–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –•–æ—Å—Ç–∏–Ω–≥ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤–Ω–µ—à–Ω–∏–µ API
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPS –∏–ª–∏ dedicated —Å–µ—Ä–≤–µ—Ä

### 2. –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

**–ü—Ä–∏—á–∏–Ω–∞:** –ë–æ–ª—å—à–æ–π `max_tokens` –∏–ª–∏ –º–æ–¥–µ–ª—å reasoner
**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ chat –≤–º–µ—Å—Ç–æ reasoner
- –£–º–µ–Ω—å—à–∏—Ç–µ max_tokens –¥–æ 2048

### 3. Rate limit errors

**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤
**–†–µ—à–µ–Ω–∏–µ:** DeepSeek –ª–∏–º–∏—Ç - 300 RPM (requests per minute)

---

## üìà –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞–¥–∞—á (–ø–æ—Å—Ç—ã, —Ö–µ—à—Ç–µ–≥–∏):
```javascript
model: 'deepseek-chat'
max_tokens: 2048
```

### –î–ª—è —Å—Ä–µ–¥–Ω–∏—Ö –∑–∞–¥–∞—á (—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏):
```javascript
model: 'deepseek-chat'
max_tokens: 4096
```

### –î–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:
```javascript
model: 'deepseek-reasoner'
max_tokens: 8192
```

### –î–ª—è –≥–ª—É–±–æ–∫–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:
```javascript
model: 'deepseek-reasoner'
max_tokens: 16384
```

---

## üéØ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –°–∫–æ—Ä–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–ø—Ä–∏–º–µ—Ä–Ω–æ):

- **deepseek-chat**: 50-100 —Ç–æ–∫–µ–Ω–æ–≤/—Å–µ–∫
- **deepseek-reasoner**: 30-50 —Ç–æ–∫–µ–Ω–æ–≤/—Å–µ–∫

### –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:

- 500 —Ç–æ–∫–µ–Ω–æ–≤ (chat): 5-10 —Å–µ–∫—É–Ω–¥
- 2000 —Ç–æ–∫–µ–Ω–æ–≤ (chat): 20-40 —Å–µ–∫—É–Ω–¥
- 8000 —Ç–æ–∫–µ–Ω–æ–≤ (reasoner): 2-5 –º–∏–Ω—É—Ç

---

## ‚ú® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤

–í `marketing-assistant-improved.html`:
```javascript
const expertPrompts = {
    myexpert: '–¢—ã - –º–æ–π –∫–∞—Å—Ç–æ–º–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç...'
};
```

### 2. –ù–æ–≤—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

–î–æ–±–∞–≤—å—Ç–µ –≤ HTML:
```html
<button class="platform-btn" data-platform="newplatform">
    <i class="fas fa-icon"></i> –ù–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
</button>
```

### 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã

```javascript
const templates = {
    'my-template': '–ú–æ–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —à–∞–±–ª–æ–Ω–∞...'
};
```

---

## üîÑ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –í–µ—Ä—Å–∏—è 2.0 (–¢–µ–∫—É—â–∞—è)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ AI
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –í–µ—Ä—Å–∏—è 1.0 (–ò—Å—Ö–æ–¥–Ω–∞—è)
- ‚ùå –û–±—Ä—ã–≤—ã –æ—Ç–≤–µ—Ç–æ–≤
- ‚ùå JSON errors
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–æ–±–ª–µ–º—ã? –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:

1. **test-api.php** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã
2. **api-errors.log** - –æ—à–∏–±–∫–∏ API
3. **api-debug.log** - –¥–µ—Ç–∞–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
4. **–ö–æ–Ω—Å–æ–ª—å F12** - JavaScript –æ—à–∏–±–∫–∏
5. **README-SETUP.md** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ—Ç–ª–∞–¥–∫–µ

---

–í–µ—Ä—Å–∏—è: 2.0
–î–∞—Ç–∞: 2025-01-15
